Modified from it's original form from:
http://www.linuxhowtos.org/C_C++/socket.htm
